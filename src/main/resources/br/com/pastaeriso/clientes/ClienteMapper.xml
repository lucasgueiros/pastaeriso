<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="br.com.pastaeriso.clientes.ClienteMapper">
	<resultMap id="clienteMap" type="Cliente">
		<constructor>
			<idArg column="id" javaType="Integer"/>
			<arg column="nome" javaType="String"/>
		</constructor>
    <collection property="contatos" ofType="Contato" column="id"
      select="br.com.pastaeriso.clientes.contatos.ContatoMapper.selectContatosByClienteId"/>
    <collection property="enderecos" ofType="Endereco" column="id"
      select="br.com.pastaeriso.clientes.endereco.EnderecoMapper.selectEnderecosByClienteId"/>
	</resultMap>

	<select id="selectClienteById" resultMap="clienteMap" parameterType="Integer">
		select id,nome from clientes where id=#{id}
	</select>

</mapper>
